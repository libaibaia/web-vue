import{u as q,A as De,S as ne,C as re,_ as D,D as U,E as Xe,b as Ce,L as oe,F as Ye,G as ke,H as Ve,I as Je,J as N,a as Le,r as Qe,K as Me,B as Ie,M as Ze,e as et,c as me,N as tt}from"./index-0c819fdc.js";import{h as A,ac as G,k as e,p as c,l as $,S as R,m as le,U as T,B as x,$ as W,t as _,R as J,Q as L,C as a,q as n,o as m,K as ae,r as j,j as Q,z as X,_ as ce,D as ee,n as Z,ad as Ae,G as he,W as K,a7 as Ee,a0 as xe,ae as ot,af as nt,ab as Ne,M as se,T as I,ag as lt,ah as at,O as Pe,P as qe,A as We,a4 as st,ai as Re,aj as rt,Y as we,ak as ct,a3 as Te,al as Ue,am as ut,an as it,i as dt}from"./vue-a98ef309.js";import{c as mt,o as Se,g as He,r as _e,s as _t,h as pt}from"./router-fdeb3e3b.js";import{I as ft}from"./index-6f00a71d.js";import{a as vt,i as gt}from"./index-3be7818d.js";import{F as ie}from"./index-03bd2479.js";import{m as yt}from"./layout-531a5ddf.js";import"./controllerUrls-beb409f8.js";import"./baAccount-2dad18d3.js";import"./IRequests-783be2cd.js";const bt="/assets/logo-8000aeec.png",ht={class:"layout-logo"},Ct={key:0,class:"logo-img",src:bt,alt:"logo"},kt=A({__name:"logo",setup(f){G(u=>({"7ccdc331":e(t).layout.layoutMode!="Streamline"?e(t).getColorVal("menuTopBarBackground"):"transparent"}));const t=q(),o=De(),i=function(){t.layout.shrink&&!t.layout.menuCollapse&&mt(),t.setLayout("menuCollapse",!t.layout.menuCollapse),ne.set(re,{layoutMode:t.layout.layoutMode,menuCollapse:t.layout.menuCollapse})};return(u,d)=>{const y=_("Icon");return c(),$("div",ht,[e(t).layout.menuCollapse?R("",!0):(c(),$("img",Ct)),e(t).layout.menuCollapse?R("",!0):(c(),$("div",{key:1,style:le({color:e(t).getColorVal("menuActiveColor")}),class:"website-name"},T(e(o).siteName),5)),e(t).layout.layoutMode!="Streamline"?(c(),x(y,{key:2,onClick:i,name:e(t).layout.menuCollapse?"fa fa-indent":"fa fa-dedent",class:W([e(t).layout.menuCollapse?"unfold":"","fold"]),color:e(t).getColorVal("menuActiveColor"),size:"18"},null,8,["name","class","color"])):R("",!0)])}}});const Oe=D(kt,[["__scopeId","data-v-2bc92dbe"]]),xt=A({__name:"menuTree",props:{menus:{default:()=>[]}},setup(f){const t=f;G(i=>({"61829e60":e(o).getColorVal("menuActiveBackground")}));const o=q();return(i,u)=>{const d=_("Icon"),y=_("menu-tree",!0),p=_("el-sub-menu"),b=_("el-menu-item");return c(!0),$(L,null,J(t.menus,s=>(c(),$(L,null,[s.children&&s.children.length>0?(c(),x(p,{index:s.path,key:s.path},{title:a(()=>{var g,h,l,r;return[n(d,{color:e(o).getColorVal("menuColor"),name:(g=s.meta)!=null&&g.icon?(h=s.meta)==null?void 0:h.icon:e(o).layout.menuDefaultIcon},null,8,["color","name"]),m("span",null,T((l=s.meta)!=null&&l.title?(r=s.meta)==null?void 0:r.title:i.$t("noTitle")),1)]}),default:a(()=>[n(y,{menus:s.children},null,8,["menus"])]),_:2},1032,["index"])):(c(),x(b,{index:s.path,key:s.path,onClick:g=>e(Se)(s)},{default:a(()=>{var g,h,l,r;return[n(d,{color:e(o).getColorVal("menuColor"),name:(g=s.meta)!=null&&g.icon?(h=s.meta)==null?void 0:h.icon:e(o).layout.menuDefaultIcon},null,8,["color","name"]),m("span",null,T((l=s.meta)!=null&&l.title?(r=s.meta)==null?void 0:r.title:i.$t("noTitle")),1)]}),_:2},1032,["index","onClick"]))],64))),256)}}});const pe=D(xt,[["__scopeId","data-v-21929e93"]]),wt=A({__name:"menuVertical",setup(f){G(s=>({"1dde85aa":e(y),"72fdaa31":e(t).getColorVal("menuBackground"),b0a765a4:e(t).getColorVal("menuColor"),"4fe2d048":e(t).getColorVal("menuActiveColor")}));const t=q(),o=U(),i=ee(),u=ae(),d=j({defaultActive:""}),y=Q(()=>{let s=0;return t.layout.menuShowTopBar&&(s=50),t.layout.layoutMode=="Default"?"calc(100vh - "+(32+s)+"px)":"calc(100vh - "+s+"px)"}),p=s=>{d.defaultActive=s.path},b=()=>{Z(()=>{var g;let s=document.querySelector(".el-menu.layouts-menu-vertical li.is-active");if(!s)return!1;(g=u.value)==null||g.setScrollTop(s.offsetTop)})};return X(()=>{p(i),b()}),ce(s=>{p(s)}),(s,g)=>{const h=_("el-menu"),l=_("el-scrollbar");return c(),x(l,{ref_key:"verticalMenusRef",ref:u,class:"vertical-menus-scrollbar"},{default:a(()=>[n(h,{class:"layouts-menu-vertical","collapse-transition":!1,"unique-opened":e(t).layout.menuUniqueOpened,"default-active":d.defaultActive,collapse:e(t).layout.menuCollapse},{default:a(()=>[n(pe,{menus:e(o).state.tabsViewRoutes},null,8,["menus"])]),_:1},8,["unique-opened","default-active","collapse"])]),_:1},512)}}});const $e=(f,t)=>{for(let o=0;o<t.length;o++){const i=t[o];if(i.path==f||i.children&&i.children.length>0&&$e(f,i.children))return i}return!1},Tt=A({__name:"menuVerticalChildren",setup(f){G(s=>({"6cb75450":e(y),"6f812742":e(t).getColorVal("menuBackground"),"08696640":e(t).getColorVal("menuColor"),ba4d584c:e(t).getColorVal("menuActiveColor")}));const t=q(),o=U(),i=ee(),u=ae(),d=j({defaultActive:"",routeChildren:[]}),y=Q(()=>{let s=0;return t.layout.menuShowTopBar&&(s=50),t.layout.layoutMode=="Default"?"calc(100vh - "+(32+s)+"px)":"calc(100vh - "+s+"px)"}),p=s=>{let g=$e(s.path,o.state.tabsViewRoutes);g?(d.defaultActive=s.path,g.children&&g.children.length>0?d.routeChildren=g.children:d.routeChildren=[g]):d.routeChildren||(d.routeChildren=o.state.tabsViewRoutes)},b=()=>{Z(()=>{var g;let s=document.querySelector(".el-menu.layouts-menu-vertical-children li.is-active");if(!s)return!1;(g=u.value)==null||g.setScrollTop(s.offsetTop)})};return X(()=>{p(i),b()}),ce(s=>{p(s)}),(s,g)=>{const h=_("el-menu"),l=_("el-scrollbar");return c(),x(l,{ref_key:"verticalMenusRef",ref:u,class:"children-vertical-menus-scrollbar"},{default:a(()=>[n(h,{class:"layouts-menu-vertical-children","collapse-transition":!1,"unique-opened":e(t).layout.menuUniqueOpened,"default-active":d.defaultActive,collapse:e(t).layout.menuCollapse},{default:a(()=>[d.routeChildren.length>0?(c(),x(pe,{key:0,menus:d.routeChildren},null,8,["menus"])):R("",!0)]),_:1},8,["unique-opened","default-active","collapse"])]),_:1},512)}}});const St=A({name:"AsideMenu"}),$t=A({...St,setup(f){G(u=>({"1aeb3dd8":e(i)}));const t=q(),o=U(),i=Q(()=>t.menuWidth());return(u,d)=>{const y=_("el-aside");return e(o).state.tabFullScreen?R("",!0):(c(),x(y,{key:0,class:W("layout-aside-"+e(t).layout.layoutMode+" "+(e(t).layout.shrink?"shrink":""))},{default:a(()=>[e(t).layout.menuShowTopBar?(c(),x(Oe,{key:0})):R("",!0),e(t).layout.layoutMode=="Double"?(c(),x(Tt,{key:1})):(c(),x(wt,{key:2}))]),_:1},8,["class"]))}}});const Be=D($t,[["__scopeId","data-v-938be15b"]]);function Ke(){if(!Ae())throw new Error("useCurrentInstance() can only be used inside setup() or functional components!");const{appContext:f}=Ae();return{proxy:f.config.globalProperties}}const Bt={class:"el-dropdown-menu"},Vt=["onClick"],Mt=A({__name:"index",props:{width:{default:150},items:{default:()=>[]}},emits:["contextmenuItemClick"],setup(f,{expose:t,emit:o}){const i=f,u=j({show:!1,axis:{x:0,y:0},menu:void 0,arrowAxis:10}),d=(b,s)=>{u.menu=b,u.axis=s,u.show=!0},y=b=>{b.disabled||(b.menu=ot(u.menu),o("contextmenuItemClick",b))},p=()=>{u.show=!1};return t({onShowContextmenu:d,onHideContextmenu:p}),X(()=>{he(document,"click",p)}),(b,s)=>{const g=_("Icon");return c(),x(xe,{name:"el-zoom-in-center"},{default:a(()=>[K((c(),$("div",{class:"el-popper is-pure is-light el-dropdown__popper ba-contextmenu",style:le(`top: ${u.axis.y+5}px;left: ${u.axis.x-14}px;width:${i.width}px`),key:Math.random(),"aria-hidden":"false","data-popper-placement":"bottom"},[m("ul",Bt,[(c(!0),$(L,null,J(i.items,(h,l)=>(c(),$("li",{key:l,class:W(["el-dropdown-menu__item",h.disabled?"is-disabled":""]),tabindex:"-1",onClick:r=>y(h)},[n(g,{size:"12",name:h.icon},null,8,["name"]),m("span",null,T(h.label),1)],10,Vt))),128))]),m("span",{class:"el-popper__arrow",style:le({left:`${u.arrowAxis}px`})},null,4)],4)),[[Ee,u.show]])]),_:1})}}});const It=D(Mt,[["__scopeId","data-v-f1121b30"]]),At=["onClick","onContextmenu"],Rt=A({__name:"tabs",setup(f){G(v=>({"31b5539f":e(i).getColorVal("headerBarTabColor"),"2e2f7df9":e(i).getColorVal("headerBarTabActiveColor"),"259678a4":e(i).layout.layoutMode=="Default"?"none":e(i).getColorVal("headerBarBackground")}));const t=ee(),o=Ne(),i=q(),u=U(),{proxy:d}=Ke(),y=ae(),p=nt(),b=ae(),s=j({contextmenuItems:[{name:"refresh",label:"重新加载",icon:"fa fa-refresh"},{name:"close",label:"关闭标签",icon:"fa fa-times"},{name:"fullScreen",label:"当前标签全屏",icon:"el-icon-FullScreen"},{name:"closeOther",label:"关闭其他标签",icon:"fa fa-minus"},{name:"closeAll",label:"关闭全部标签",icon:"fa fa-stop"}]}),g=j({width:"0",transform:"translateX(0px)"}),h=v=>{o.push(v)},l=(v,B)=>{s.contextmenuItems[0].disabled=t.path!==v.path,s.contextmenuItems[4].disabled=s.contextmenuItems[3].disabled=u.state.tabsView.length==1;const{clientX:V,clientY:H}=B;b.value.onShowContextmenu(v,{x:V,y:H})},r=function(v){if(!v)return!1;g.width=v.clientWidth+"px",g.transform=`translateX(${v.offsetLeft}px)`;let B=v.offsetLeft+v.clientWidth-y.value.clientWidth;v.offsetLeft<y.value.scrollLeft?y.value.scrollTo(v.offsetLeft,0):B>y.value.scrollLeft&&y.value.scrollTo(B,0)},F=()=>{const v=u.state.tabsView.slice(-1)[0];v?o.push(v.path):o.push("/admin")},E=v=>{var B;u.closeTab(v),d.eventBus.emit("onTabViewClose",v),((B=u.state.activeRoute)==null?void 0:B.path)===v.path?F():(u.setActiveRoute(u.state.activeRoute),Z(()=>{r(p.value[u.state.activeIndex])})),b.value.onHideContextmenu()},w=v=>{var B;u.closeTabs(v),u.setActiveRoute(v),((B=u.state.activeRoute)==null?void 0:B.path)!==t.path&&o.push(v.path)},k=v=>{let B=He(u.state.tabsViewRoutes);if(B&&B.path==v.path)return w(v);u.closeTabs(!1),B&&_e(B.path)},z=async v=>{const{name:B,menu:V}=v;if(V)switch(B){case"refresh":d.eventBus.emit("onTabViewRefresh",V);break;case"close":E(V);break;case"closeOther":w(V);break;case"closeAll":k(V);break;case"fullScreen":t.path!==(V==null?void 0:V.path)&&o.push(V==null?void 0:V.path),u.setFullScreen(!0);break}},M=function(v){u.addTab(v),u.setActiveRoute(v),Z(()=>{r(p.value[u.state.activeIndex])})};return ce(async v=>{M(v)}),X(()=>{M(o.currentRoute.value),new Xe(y.value)}),(v,B)=>{const V=_("Icon");return c(),$(L,null,[m("div",{class:"nav-tabs",ref_key:"tabScrollbarRef",ref:y},[(c(!0),$(L,null,J(e(u).state.tabsView,(H,te)=>(c(),$("div",{onClick:P=>h(H),onContextmenu:se(P=>l(H,P),["prevent"]),class:W(["ba-nav-tab",e(u).state.activeIndex==te?"active":""]),ref_for:!0,ref:e(p).set,key:te},[I(T(H.meta.title)+" ",1),n(xe,{onAfterLeave:B[0]||(B[0]=P=>r(e(p)[e(u).state.activeIndex])),name:"el-fade-in"},{default:a(()=>[K(n(V,{class:"close-icon",onClick:se(P=>E(H),["stop"]),size:"15",name:"el-icon-Close"},null,8,["onClick"]),[[Ee,e(u).state.tabsView.length>1]])]),_:2},1024)],42,At))),128)),m("div",{style:le(g),class:"nav-tabs-active-box"},null,4)],512),n(It,{ref_key:"contextmenuRef",ref:b,items:s.contextmenuItems,onContextmenuItemClick:z},null,8,["items"])],64)}}});const je=D(Rt,[["__scopeId","data-v-1d396a22"]]),Fe=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Y=(()=>{if(typeof document>"u")return!1;const f=Fe[0],t={};for(const o of Fe)if((o==null?void 0:o[1])in document){for(const[u,d]of o.entries())t[f[u]]=d;return t}return!1})(),ze={change:Y.fullscreenchange,error:Y.fullscreenerror};let O={request(f=document.documentElement,t){return new Promise((o,i)=>{const u=()=>{O.off("change",u),o()};O.on("change",u);const d=f[Y.requestFullscreen](t);d instanceof Promise&&d.then(u).catch(i)})},exit(){return new Promise((f,t)=>{if(!O.isFullscreen){f();return}const o=()=>{O.off("change",o),f()};O.on("change",o);const i=document[Y.exitFullscreen]();i instanceof Promise&&i.then(o).catch(t)})},toggle(f,t){return O.isFullscreen?O.exit():O.request(f,t)},onchange(f){O.on("change",f)},onerror(f){O.on("error",f)},on(f,t){const o=ze[f];o&&document.addEventListener(o,t,!1)},off(f,t){const o=ze[f];o&&document.removeEventListener(o,t,!1)},raw:Y};Object.defineProperties(O,{isFullscreen:{get:()=>Boolean(document[Y.fullscreenElement])},element:{enumerable:!0,get:()=>document[Y.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>Boolean(document[Y.fullscreenEnabled])}});Y||(O={isEnabled:!1});const de=O;const Ft={},zt={class:"theme-toggle-content"},Dt={class:"switch"},Lt={class:"switch-action"};function Et(f,t){const o=_("Icon");return c(),$("div",zt,[m("div",Dt,[m("div",Lt,[n(o,{name:"local-dark",color:"#f2f2f2",size:"13px",class:"switch-icon dark-icon"}),n(o,{name:"local-light",color:"#303133",size:"13px",class:"switch-icon light-icon"})])])])}const Nt=D(Ft,[["render",Et],["__scopeId","data-v-047bd707"]]),Pt=lt({onChanged(f){const t=q();Wt(f),t.setLayout("isDark",f),t.onSetLayoutColor()}}),qt=at(Pt);function Wt(f){const t=document.getElementsByTagName("html")[0];f?t.setAttribute("class","dark"):t.setAttribute("class","")}const fe=f=>(Pe("data-v-bac0a267"),f=f(),qe(),f),Ut={class:"layout-config-drawer"},Ht={class:"layout-mode-styles-box"},Ot={class:"layout-mode-box-style"},Kt=fe(()=>m("div",{class:"layout-mode-style-box"},[m("div",{class:"layout-mode-style-aside"}),m("div",{class:"layout-mode-style-container-box"},[m("div",{class:"layout-mode-style-header"}),m("div",{class:"layout-mode-style-container"})])],-1)),jt={class:"layout-mode-style-name"},Gt=fe(()=>m("div",{class:"layout-mode-style-box"},[m("div",{class:"layout-mode-style-aside"}),m("div",{class:"layout-mode-style-container-box"},[m("div",{class:"layout-mode-style-header"}),m("div",{class:"layout-mode-style-container"})])],-1)),Xt={class:"layout-mode-style-name"},Yt=fe(()=>m("div",{class:"layout-mode-style-box"},[m("div",{class:"layout-mode-style-container-box"},[m("div",{class:"layout-mode-style-header"}),m("div",{class:"layout-mode-style-container"})])],-1)),Jt={class:"layout-mode-style-name"},Qt=fe(()=>m("div",{class:"layout-mode-style-box"},[m("div",{class:"layout-mode-style-aside"}),m("div",{class:"layout-mode-style-container-box"},[m("div",{class:"layout-mode-style-header"}),m("div",{class:"layout-mode-style-container"})])],-1)),Zt={class:"layout-mode-style-name"},eo={class:"layout-config-global"},to={class:"layout-config-aside"},oo={class:"layout-config-aside"},no={class:"ba-center"},lo=A({__name:"config",setup(f){const{t}=Ce(),o=q(),i=U(),u=Ne(),d=(h,l)=>{o.setLayout(l,h)},y=(h,l)=>{if(h===null)return;const r=o.layout[l];o.layout.isDark?r[1]=h:r[0]=h,o.setLayout(l,r)},p=h=>{ne.set(re,{layoutMode:h,menuCollapse:o.layout.menuCollapse}),o.setLayoutMode(h)},b=(h,l)=>{o.setLayout(l,h);const r=i.state.tabsViewRoutes;i.setTabsViewRoutes([]),setTimeout(()=>{i.setTabsViewRoutes(r)},200)},s=()=>{o.setLayout("showDrawer",!1)},g=()=>{oe.remove(Ye),ne.remove(re),u.go(0)};return(h,l)=>{const r=_("el-divider"),F=_("el-col"),E=_("el-row"),w=_("el-form-item"),k=_("el-option"),z=_("el-select"),M=_("el-color-picker"),v=_("el-switch"),B=_("el-input"),V=_("el-button"),H=_("el-popconfirm"),te=_("el-form"),P=_("el-scrollbar"),C=_("el-drawer");return c(),$("div",Ut,[n(C,{"model-value":e(o).layout.showDrawer,title:e(t)("layouts.Layout configuration"),size:"310px",onClose:s},{default:a(()=>[n(P,{class:"layout-mode-style-scrollbar"},{default:a(()=>[n(te,{ref:"formRef",model:e(o).layout},{default:a(()=>[m("div",Ht,[n(r,{"border-style":"dashed"},{default:a(()=>[I(T(e(t)("layouts.Layout mode")),1)]),_:1}),m("div",Ot,[n(E,{class:"layout-mode-box-style-row",gutter:10},{default:a(()=>[n(F,{span:12},{default:a(()=>[m("div",{onClick:l[0]||(l[0]=S=>p("Default")),class:W(["layout-mode-style default",e(o).layout.layoutMode=="Default"?"active":""])},[Kt,m("div",jt,T(e(t)("layouts.default")),1)],2)]),_:1}),n(F,{span:12},{default:a(()=>[m("div",{onClick:l[1]||(l[1]=S=>p("Classic")),class:W(["layout-mode-style classic",e(o).layout.layoutMode=="Classic"?"active":""])},[Gt,m("div",Xt,T(e(t)("layouts.classic")),1)],2)]),_:1})]),_:1}),n(E,{gutter:10},{default:a(()=>[n(F,{span:12},{default:a(()=>[m("div",{onClick:l[2]||(l[2]=S=>p("Streamline")),class:W(["layout-mode-style streamline",e(o).layout.layoutMode=="Streamline"?"active":""])},[Yt,m("div",Jt,T(e(t)("layouts.Single column")),1)],2)]),_:1}),n(F,{span:12},{default:a(()=>[m("div",{onClick:l[3]||(l[3]=S=>p("Double")),class:W(["layout-mode-style double",e(o).layout.layoutMode=="Double"?"active":""])},[Qt,m("div",Zt,T(e(t)("layouts.Double column")),1)],2)]),_:1})]),_:1})]),n(r,{"border-style":"dashed"},{default:a(()=>[I(T(e(t)("layouts.overall situation")),1)]),_:1}),m("div",eo,[n(w,{size:"large",label:e(t)("layouts.Dark mode")},{default:a(()=>[n(Nt,{onClick:l[4]||(l[4]=S=>e(qt)())})]),_:1},8,["label"]),n(w,{label:e(t)("layouts.Background page switching animation")},{default:a(()=>[n(z,{onChange:l[5]||(l[5]=S=>d(S,"mainAnimation")),"model-value":e(o).layout.mainAnimation,placeholder:e(t)("layouts.Please select an animation name")},{default:a(()=>[n(k,{label:"slide-right",value:"slide-right"}),n(k,{label:"slide-left",value:"slide-left"}),n(k,{label:"el-fade-in-linear",value:"el-fade-in-linear"}),n(k,{label:"el-fade-in",value:"el-fade-in"}),n(k,{label:"el-zoom-in-center",value:"el-zoom-in-center"}),n(k,{label:"el-zoom-in-top",value:"el-zoom-in-top"}),n(k,{label:"el-zoom-in-bottom",value:"el-zoom-in-bottom"})]),_:1},8,["model-value","placeholder"])]),_:1},8,["label"])]),n(r,{"border-style":"dashed"},{default:a(()=>[I(T(e(t)("layouts.sidebar")),1)]),_:1}),m("div",to,[n(w,{label:e(t)("layouts.Side menu bar background color")},{default:a(()=>[n(M,{onChange:l[6]||(l[6]=S=>y(S,"menuBackground")),"model-value":e(o).getColorVal("menuBackground")},null,8,["model-value"])]),_:1},8,["label"]),n(w,{label:e(t)("layouts.Side menu text color")},{default:a(()=>[n(M,{onChange:l[7]||(l[7]=S=>y(S,"menuColor")),"model-value":e(o).getColorVal("menuColor")},null,8,["model-value"])]),_:1},8,["label"]),n(w,{label:e(t)("layouts.Side menu active item background color")},{default:a(()=>[n(M,{onChange:l[8]||(l[8]=S=>y(S,"menuActiveBackground")),"model-value":e(o).getColorVal("menuActiveBackground")},null,8,["model-value"])]),_:1},8,["label"]),n(w,{label:e(t)("layouts.Side menu active item text color")},{default:a(()=>[n(M,{onChange:l[9]||(l[9]=S=>y(S,"menuActiveColor")),"model-value":e(o).getColorVal("menuActiveColor")},null,8,["model-value"])]),_:1},8,["label"]),n(w,{label:e(t)("layouts.Show side menu top bar (logo bar)")},{default:a(()=>[n(v,{onChange:l[10]||(l[10]=S=>d(S,"menuShowTopBar")),"model-value":e(o).layout.menuShowTopBar},null,8,["model-value"])]),_:1},8,["label"]),n(w,{label:e(t)("layouts.Side menu top bar background color")},{default:a(()=>[n(M,{onChange:l[11]||(l[11]=S=>y(S,"menuTopBarBackground")),"model-value":e(o).getColorVal("menuTopBarBackground")},null,8,["model-value"])]),_:1},8,["label"]),n(w,{label:e(t)("layouts.Side menu width (when expanded)")},{default:a(()=>[n(B,{onInput:l[12]||(l[12]=S=>d(S,"menuWidth")),type:"number",step:10,"model-value":e(o).layout.menuWidth},{append:a(()=>[I("px")]),_:1},8,["model-value"])]),_:1},8,["label"]),n(w,{label:e(t)("layouts.Side menu default icon")},{default:a(()=>[n(ft,{onChange:l[13]||(l[13]=S=>b(S,"menuDefaultIcon")),"model-value":e(o).layout.menuDefaultIcon},null,8,["model-value"])]),_:1},8,["label"]),n(w,{label:e(t)("layouts.Side menu horizontal collapse")},{default:a(()=>[n(v,{onChange:l[14]||(l[14]=S=>d(S,"menuCollapse")),"model-value":e(o).layout.menuCollapse},null,8,["model-value"])]),_:1},8,["label"]),n(w,{label:e(t)("layouts.Side menu accordion")},{default:a(()=>[n(v,{onChange:l[15]||(l[15]=S=>d(S,"menuUniqueOpened")),"model-value":e(o).layout.menuUniqueOpened},null,8,["model-value"])]),_:1},8,["label"])]),n(r,{"border-style":"dashed"},{default:a(()=>[I(T(e(t)("layouts.Top bar")),1)]),_:1}),m("div",oo,[n(w,{label:e(t)("layouts.Top bar background color")},{default:a(()=>[n(M,{onChange:l[16]||(l[16]=S=>y(S,"headerBarBackground")),"model-value":e(o).getColorVal("headerBarBackground")},null,8,["model-value"])]),_:1},8,["label"]),n(w,{label:e(t)("layouts.Top bar text color")},{default:a(()=>[n(M,{onChange:l[17]||(l[17]=S=>y(S,"headerBarTabColor")),"model-value":e(o).getColorVal("headerBarTabColor")},null,8,["model-value"])]),_:1},8,["label"]),n(w,{label:e(t)("layouts.Background color when hovering over the top bar")},{default:a(()=>[n(M,{onChange:l[18]||(l[18]=S=>y(S,"headerBarHoverBackground")),"model-value":e(o).getColorVal("headerBarHoverBackground")},null,8,["model-value"])]),_:1},8,["label"]),n(w,{label:e(t)("layouts.Top bar menu active item background color")},{default:a(()=>[n(M,{onChange:l[19]||(l[19]=S=>y(S,"headerBarTabActiveBackground")),"model-value":e(o).getColorVal("headerBarTabActiveBackground")},null,8,["model-value"])]),_:1},8,["label"]),n(w,{label:e(t)("layouts.Top bar menu active item text color")},{default:a(()=>[n(M,{onChange:l[20]||(l[20]=S=>y(S,"headerBarTabActiveColor")),"model-value":e(o).getColorVal("headerBarTabActiveColor")},null,8,["model-value"])]),_:1},8,["label"])]),n(H,{onConfirm:g,title:e(t)("layouts.Are you sure you want to restore all configurations to the default values?")},{reference:a(()=>[m("div",no,[n(V,{class:"w80",type:"info"},{default:a(()=>[I(T(e(t)("layouts.Restore default")),1)]),_:1})])]),_:1},8,["title"])])]),_:1},8,["model"])]),_:1})]),_:1},8,["model-value","title"])])}}});const ao=D(lo,[["__scopeId","data-v-bac0a267"]]),so={class:"command"},ro={class:"task-opt"},co=["onClick"],uo={class:"indent-2"},io={class:"package-manager-dialog-footer"},mo={class:"config-buttons"},_o=A({__name:"index",setup(f){const{t}=Ce(),o=ke(),i=j({terminalWarning:"",port:o.state.port,menuExpand:document.documentElement.clientWidth>1840}),u=Q(()=>{let l=o.state.port==""?"80":o.state.port;return l=="8000"?"php think run":"php think run -p "+l}),d=Q(()=>{let l=o.state.port==""?"":":"+o.state.port;return"http://localhost"+l+" "+t("terminal.or")+" http://"+t("terminal.Site domain name")+l}),y=l=>{Ve({port:l}).then(r=>{r.code==1?(o.changePort(l),h()):i.port=o.state.port}).catch(()=>{i.port=o.state.port})},p=l=>{let r=t("terminal.unknown"),F="info";switch(l){case N.Waiting:r=t("terminal.Waiting for execution"),F="info";break;case N.Connecting:r=t("terminal.Connecting"),F="warning";break;case N.Executing:r=t("terminal.Executing"),F="warning";break;case N.Success:r=t("terminal.Successful execution"),F="success";break;case N.Failed:r=t("terminal.Execution failed"),F="danger";break;case N.Unknown:r=t("terminal.Unknown execution result"),F="danger";break}return{statusText:r,statusType:F}},b=()=>{rt.confirm(t("terminal.Are you sure you want to republish?"),t("Reminder"),{confirmButtonText:t("Confirm"),cancelButtonText:t("Cancel"),type:"warning"}).then(()=>{o.addTaskPM("web-build")})},s=l=>{Ve({manager:l}).then(r=>{r.code==1&&o.changePackageManager(l)}),o.togglePackageManagerDialog(!1)},g=l=>{i.terminalWarning=l},h=()=>{Je()!=o.state.port?g(t("terminal.The current terminal is not running under the installation service, and some commands may not be executed")):g("")};return We(()=>o.state.port,l=>{l!=i.port&&(i.port=l,h())}),X(()=>{h()}),(l,r)=>{const F=_("el-alert"),E=_("el-tag"),w=_("el-button"),k=_("Icon"),z=_("el-card"),M=_("el-timeline-item"),v=_("el-timeline"),B=_("el-empty"),V=_("el-button-group"),H=_("el-dialog"),te=_("el-form"),P=we("blur");return c(),$(L,null,[n(H,st(l.$attrs,{modelValue:e(o).state.show,"onUpdate:modelValue":r[7]||(r[7]=C=>e(o).state.show=C),title:e(t)("terminal.Terminal"),class:"ba-terminal-dialog","append-to-body":!0}),{default:a(()=>[i.terminalWarning?(c(),x(F,{key:0,class:"terminal-warning-alert",title:i.terminalWarning,type:"error"},null,8,["title"])):R("",!0),e(o).state.taskList.length?(c(),x(v,{key:1},{default:a(()=>[(c(!0),$(L,null,J(e(o).state.taskList,(C,S)=>(c(),x(M,{key:S,class:W(["task-item","task-status-"+C.status]),type:p(C.status).statusType,center:"",timestamp:C.createtime,placement:"top"},{default:a(()=>[n(z,null,{default:a(()=>[m("div",null,[n(E,{type:p(C.status).statusType},{default:a(()=>[I(T(p(C.status).statusText),1)]),_:2},1032,["type"]),(C.status==e(N).Failed||C.status==e(N).Unknown)&&C.blockOnFailure?(c(),x(E,{key:0,class:"block-on-failure-tag",type:"warning"},{default:a(()=>[I(T(e(t)("terminal.Failure to execute this command will block the execution of the queue")),1)]),_:1})):R("",!0),C.status==e(N).Executing||C.status==e(N).Connecting?(c(),x(E,{key:1,class:"block-on-failure-tag",type:"danger"},{default:a(()=>[I(T(e(t)("terminal.Do not refresh the browser")),1)]),_:1})):R("",!0),m("span",so,T(C.command),1),m("div",ro,[C.status==e(N).Failed||C.status==e(N).Unknown?K((c(),x(w,{key:0,title:e(t)("Retry"),size:"small",type:"warning",icon:"el-icon-RefreshRight",circle:"",onClick:ue=>e(o).retryTask(S)},null,8,["title","onClick"])),[[P]]):R("",!0),K(n(w,{onClick:ue=>e(o).delTask(S),title:e(t)("delete"),size:"small",type:"danger",icon:"el-icon-Delete",circle:""},null,8,["onClick","title"]),[[P]])])]),C.status!=e(N).Waiting?(c(),$(L,{key:0},[C.status!=e(N).Connecting&&C.status!=e(N).Executing?(c(),$("div",{key:0,onClick:ue=>e(o).setTaskShowMessage(S),class:"toggle-message-display"},[m("span",null,T(e(t)("terminal.Command run log")),1),n(k,{name:C.showMessage?"el-icon-ArrowUp":"el-icon-ArrowDown",size:"16",color:"#909399"},null,8,["name"])],8,co)):R("",!0),C.status==e(N).Connecting||C.status==e(N).Executing||C.status>e(N).Executing&&C.showMessage?(c(),$("div",{key:1,class:W(["exec-message","exec-message-"+C.uuid])},[(c(!0),$(L,null,J(C.message,(ue,Ge)=>(c(),$("div",{key:Ge,class:"message-item"},T(ue),1))),128))],2)):R("",!0)],64)):R("",!0)]),_:2},1024)]),_:2},1032,["class","type","timestamp"]))),128))]),_:1})):(c(),x(B,{key:2,"image-size":80,description:e(t)("terminal.No mission yet")},null,8,["description"])),n(V,null,{default:a(()=>[K((c(),x(w,{class:"terminal-menu-item",icon:"el-icon-MagicStick",onClick:r[0]||(r[0]=C=>e(o).addTaskPM("test",!1))},{default:a(()=>[I(T(e(t)("terminal.Test command")),1)]),_:1})),[[P]]),K((c(),x(w,{class:"terminal-menu-item",icon:"el-icon-Download",onClick:r[1]||(r[1]=C=>e(o).addTaskPM("web-install"))},{default:a(()=>[I(T(e(t)("terminal.Install dependent packages")),1)]),_:1})),[[P]]),K((c(),x(w,{class:"terminal-menu-item",icon:"el-icon-Sell",onClick:r[2]||(r[2]=C=>b())},{default:a(()=>[I(T(e(t)("terminal.Republish")),1)]),_:1})),[[P]]),i.menuExpand?(c(),$(L,{key:1},[K((c(),x(w,{class:"terminal-menu-item",icon:"el-icon-Delete",onClick:r[4]||(r[4]=C=>e(o).clearSuccessTask())},{default:a(()=>[I(T(e(t)("terminal.Clean up task list")),1)]),_:1})),[[P]]),K((c(),x(w,{class:"terminal-menu-item",icon:"el-icon-Switch",onClick:r[5]||(r[5]=C=>e(o).togglePackageManagerDialog(!0))},{default:a(()=>[I(T(e(t)("terminal.Package manager"))+" "+T(e(o).state.packageManager.toUpperCase()),1)]),_:1})),[[P]]),K((c(),x(w,{class:"terminal-menu-item",icon:"el-icon-Tools",onClick:r[6]||(r[6]=C=>e(o).toggleConfigDialog())},{default:a(()=>[I(T(e(t)("terminal.Terminal settings")),1)]),_:1})),[[P]])],64)):K((c(),x(w,{key:0,class:"terminal-menu-item",icon:"el-icon-Expand",onClick:r[3]||(r[3]=C=>i.menuExpand=!0)},null,512)),[[P]])]),_:1})]),_:1},16,["modelValue","title"]),n(H,{onClose:r[14]||(r[14]=C=>e(o).togglePackageManagerDialog(!1)),"model-value":e(o).state.showPackageManagerDialog,class:"ba-terminal-dialog",title:e(t)("terminal.Please select package manager"),center:""},{footer:a(()=>[m("div",io,[n(w,{onClick:r[8]||(r[8]=C=>s("npm"))},{default:a(()=>[I("npm")]),_:1}),n(w,{onClick:r[9]||(r[9]=C=>s("cnpm"))},{default:a(()=>[I("cnpm")]),_:1}),n(w,{onClick:r[10]||(r[10]=C=>s("pnpm"))},{default:a(()=>[I("pnpm")]),_:1}),n(w,{onClick:r[11]||(r[11]=C=>s("yarn"))},{default:a(()=>[I("yarn")]),_:1}),n(w,{onClick:r[12]||(r[12]=C=>s("ni"))},{default:a(()=>[I("ni")]),_:1}),n(w,{onClick:r[13]||(r[13]=C=>s("none"))},{default:a(()=>[I(T(e(t)("terminal.I want to execute the command manually")),1)]),_:1})])]),default:a(()=>[m("div",uo,T(e(t)("terminal.Switch package manager title")),1)]),_:1},8,["model-value","title"]),n(H,{onClose:r[19]||(r[19]=C=>e(o).toggleConfigDialog(!1)),"model-value":e(o).state.showConfig,class:"ba-terminal-dialog",title:e(t)("terminal.Terminal settings")},{default:a(()=>[n(te,{"label-position":"top"},{default:a(()=>[n(ie,{label:e(t)("terminal.Install service port"),modelValue:i.port,"onUpdate:modelValue":r[15]||(r[15]=C=>i.port=C),type:"number","input-attr":{onChange:y},placeholder:e(t)("terminal.The port number to start the installation service (this port needs to be opened for external network access)")},null,8,["label","modelValue","input-attr","placeholder"]),n(ie,{label:e(t)("terminal.Installation service startup command"),modelValue:e(u),"onUpdate:modelValue":r[16]||(r[16]=C=>Re(u)?u.value=C:null),type:"string","input-attr":{disabled:!0},attr:{"block-help":e(t)("terminal.Please execute this command to start the service (add Su under Linux)")}},null,8,["label","modelValue","attr"]),n(ie,{label:e(t)("terminal.Installation service URL"),modelValue:e(d),"onUpdate:modelValue":r[17]||(r[17]=C=>Re(d)?d.value=C:null),type:"string","input-attr":{disabled:!0},attr:{"block-help":e(t)("terminal.Please access the site through the installation service URL (except in debug mode)")}},null,8,["label","modelValue","attr"])]),_:1}),n(ie,{label:e(t)("terminal.Clean up successful tasks when starting a new task"),"model-value":e(o).state.automaticCleanupTask,type:"radio",data:{content:{0:e(t)("Disable"),1:e(t)("Enable")},childrenAttr:{border:!0}},"input-attr":{onChange:e(o).changeAutomaticCleanupTask}},null,8,["label","model-value","data","input-attr"]),m("div",mo,[n(w,{onClick:r[18]||(r[18]=C=>e(o).toggleConfigDialog(!1))},{default:a(()=>[I(T(e(t)("terminal.Back to terminal")),1)]),_:1})])]),_:1},8,["model-value","title"])],64)}}});const po=D(_o,[["__scopeId","data-v-0b70a3d1"]]),fo={class:"nav-menu-item"},vo=["src"],go={class:"admin-name"},yo={class:"admin-info-base"},bo=["src"],ho={class:"admin-info-other"},Co={class:"admin-info-name"},ko={class:"admin-info-lasttime"},xo={class:"admin-info-footer"},wo=A({__name:"navMenus",setup(f){G(h=>({"18ee70a5":e(i).getColorVal("headerBarBackground"),a348d776:e(i).getColorVal("headerBarTabColor"),"1bb96ca1":e(i).getColorVal("headerBarHoverBackground")}));const{t}=Ce(),o=Le(),i=q(),u=ke(),d=j({isFullScreen:!1,currentNavMenu:"",showLayoutDrawer:!1}),y=(h,l)=>{d.currentNavMenu=h?l:""},p=()=>{if(!de.isEnabled)return ct.warning(t("layouts.Full screen is not supported")),!1;de.toggle(),de.onchange(()=>{d.isFullScreen=de.isFullscreen})},b=()=>{_e({name:"routine/adminInfo"})},s=()=>{vt(),Qe.push("/admin/login")},g=h=>{if(h=="storage"||h=="all"){const l=oe.get(Me),r=oe.get(Ie);if(ne.clear(),oe.clear(),oe.set(Me,l),oe.set(Ie,r),h=="storage")return}Ze(h).then(()=>{})};return(h,l)=>{const r=_("Icon"),F=_("router-link"),E=_("el-dropdown-item"),w=_("el-dropdown-menu"),k=_("el-dropdown"),z=_("el-badge"),M=_("el-avatar"),v=_("el-button"),B=_("el-popover");return c(),$("div",{class:W(["nav-menus",e(i).layout.layoutMode])},[n(F,{class:"h100",target:"_blank",title:e(t)("Home"),to:"/"},{default:a(()=>[m("div",fo,[n(r,{color:e(i).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"el-icon-Monitor",size:"18"},null,8,["color"])])]),_:1},8,["title"]),n(k,{onVisibleChange:l[0]||(l[0]=V=>y(V,"lang")),class:"h100",size:"large","hide-timeout":50,placement:"bottom",trigger:"click","hide-on-click":!0},{dropdown:a(()=>[n(w,{class:"dropdown-menu-box"},{default:a(()=>[(c(!0),$(L,null,J(e(i).lang.langArray,V=>(c(),x(E,{key:V.name,onClick:H=>e(et)(V.name)},{default:a(()=>[I(T(V.value),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),default:a(()=>[m("div",{class:W(["nav-menu-item pt2",d.currentNavMenu=="lang"?"hover":""])},[n(r,{color:e(i).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"local-lang",size:"18"},null,8,["color"])],2)]),_:1}),m("div",{onClick:p,class:W(["nav-menu-item",d.isFullScreen?"hover":""])},[d.isFullScreen?(c(),x(r,{key:0,color:e(i).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"local-full-screen-cancel",size:"18"},null,8,["color"])):(c(),x(r,{key:1,color:e(i).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"el-icon-FullScreen",size:"18"},null,8,["color"]))],2),e(o).super?(c(),$("div",{key:0,onClick:l[1]||(l[1]=V=>e(u).toggle()),class:"nav-menu-item pt2"},[n(z,{"is-dot":e(u).state.showDot},{default:a(()=>[n(r,{color:e(i).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"local-terminal",size:"26"},null,8,["color"])]),_:1},8,["is-dot"])])):R("",!0),e(o).super?(c(),x(k,{key:1,onVisibleChange:l[5]||(l[5]=V=>y(V,"clear")),class:"h100",size:"large","hide-timeout":50,placement:"bottom",trigger:"click","hide-on-click":!0},{dropdown:a(()=>[n(w,{class:"dropdown-menu-box"},{default:a(()=>[n(E,{onClick:l[2]||(l[2]=V=>g("tp"))},{default:a(()=>[I(T(e(t)("utils.Clean up system cache")),1)]),_:1}),n(E,{onClick:l[3]||(l[3]=V=>g("storage"))},{default:a(()=>[I(T(e(t)("utils.Clean up browser cache")),1)]),_:1}),n(E,{onClick:l[4]||(l[4]=V=>g("all")),divided:""},{default:a(()=>[I(T(e(t)("utils.Clean up all cache")),1)]),_:1})]),_:1})]),default:a(()=>[m("div",{class:W(["nav-menu-item",d.currentNavMenu=="clear"?"hover":""])},[n(r,{color:e(i).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"el-icon-Delete",size:"18"},null,8,["color"])],2)]),_:1})):R("",!0),n(B,{onShow:l[6]||(l[6]=V=>y(!0,"adminInfo")),onHide:l[7]||(l[7]=V=>y(!1,"adminInfo")),placement:"bottom-end","hide-after":0,width:260,trigger:"click","popper-class":"admin-info-box"},{reference:a(()=>[m("div",{class:W(["admin-info",d.currentNavMenu=="adminInfo"?"hover":""])},[n(M,{size:25,fit:"fill"},{default:a(()=>[m("img",{src:e(o).avatar,alt:""},null,8,vo)]),_:1}),m("div",go,T(e(o).nike),1)],2)]),default:a(()=>[m("div",null,[m("div",yo,[n(M,{size:70,fit:"fill"},{default:a(()=>[m("img",{src:e(o).avatar,alt:""},null,8,bo)]),_:1}),m("div",ho,[m("div",Co,T(e(o).nike),1),m("div",ko,T(e(o).lastlogintime),1)])]),m("div",xo,[n(v,{onClick:b,type:"primary",plain:""},{default:a(()=>[I(T(e(t)("layouts.personal data")),1)]),_:1}),n(v,{onClick:s,type:"danger",plain:""},{default:a(()=>[I(T(e(t)("layouts.cancellation")),1)]),_:1})])])]),_:1}),m("div",{onClick:l[8]||(l[8]=V=>e(i).setLayout("showDrawer",!0)),class:"nav-menu-item"},[n(r,{color:e(i).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"fa fa-cogs",size:"18"},null,8,["color"])]),n(ao),n(po)],2)}}});const ve=D(wo,[["__scopeId","data-v-e0822e94"]]),To={class:"nav-bar"},So=A({__name:"default",setup(f){G(o=>({"341e91f0":e(t).getColorVal("headerBarTabColor"),"7d0afb8a":e(t).getColorVal("headerBarTabActiveColor"),"5eccd556":e(t).getColorVal("headerBarTabActiveBackground")}));const t=q();return(o,i)=>(c(),$("div",To,[n(je),n(ve)]))}});const $o=D(So,[["__scopeId","data-v-8d90b156"]]),Bo={class:"nav-bar"},Vo={key:0,class:"unfold"},Mo=A({__name:"classic",setup(f){G(i=>({"88b2895c":e(t).getColorVal("headerBarBackground"),"6a10a632":e(t).getColorVal("headerBarTabColor"),d50d5368:e(t).getColorVal("headerBarTabActiveColor"),"4c5473d8":e(t).getColorVal("headerBarHoverBackground"),a7c0b85a:e(t).getColorVal("headerBarTabActiveBackground")}));const t=q(),o=()=>{_t("ba-aside-menu-shade",()=>{t.setLayout("menuCollapse",!0)}),t.setLayout("menuCollapse",!1)};return(i,u)=>{const d=_("Icon");return c(),$("div",Bo,[e(t).layout.shrink&&e(t).layout.menuCollapse?(c(),$("div",Vo,[n(d,{onClick:o,name:"fa fa-indent",color:e(t).getColorVal("menuActiveColor"),size:"18"},null,8,["color"])])):R("",!0),e(t).layout.shrink?R("",!0):(c(),x(je,{key:1})),n(ve)])}}});const Io=D(Mo,[["__scopeId","data-v-af750839"]]),Ao={class:"layouts-menu-horizontal"},Ro={key:0,class:"menu-horizontal-logo"},Fo=A({__name:"menuHorizontal",setup(f){G(s=>({c2a66510:e(o).getColorVal("headerBarHoverBackground"),"29760f01":e(o).getColorVal("menuBackground"),"07c7b344":e(o).getColorVal("menuColor"),68770578:e(o).getColorVal("menuActiveColor"),"1a6c9027":e(o).getColorVal("menuActiveBackground")}));const t=ae(),o=q(),i=U(),u=ee(),d=j({menuKey:me(),defaultActive:""}),y=Q(()=>(d.menuKey=me(),i.state.tabsViewRoutes)),p=s=>{d.defaultActive=s.path},b=()=>{Z(()=>{var g;let s=document.querySelector(".el-menu.menu-horizontal li.is-active");if(!s)return!1;(g=t.value)==null||g.setScrollTop(s.offsetTop)})};return X(()=>{p(u),b()}),ce(s=>{p(s)}),(s,g)=>{const h=_("Icon"),l=_("el-sub-menu"),r=_("el-menu-item"),F=_("el-menu"),E=_("el-scrollbar"),w=we("blur");return c(),$("div",Ao,[e(o).layout.menuShowTopBar?(c(),$("div",Ro,[n(Oe)])):R("",!0),n(E,{ref_key:"horizontalMenusRef",ref:t,class:"horizontal-menus-scrollbar"},{default:a(()=>[(c(),x(F,{class:"menu-horizontal",mode:"horizontal","default-active":d.defaultActive,key:d.menuKey},{default:a(()=>[(c(!0),$(L,null,J(e(y),k=>(c(),$(L,null,[k.children&&k.children.length>0?(c(),x(l,{index:k.path,key:k.path},{title:a(()=>{var z,M,v,B;return[n(h,{color:e(o).getColorVal("menuColor"),name:(z=k.meta)!=null&&z.icon?(M=k.meta)==null?void 0:M.icon:e(o).layout.menuDefaultIcon},null,8,["color","name"]),m("span",null,T((v=k.meta)!=null&&v.title?(B=k.meta)==null?void 0:B.title:s.$t("noTitle")),1)]}),default:a(()=>[n(pe,{menus:k.children},null,8,["menus"])]),_:2},1032,["index"])):K((c(),x(r,{index:k.path,key:k.path,onClick:z=>e(Se)(k)},{default:a(()=>{var z,M,v,B;return[n(h,{color:e(o).getColorVal("menuColor"),name:(z=k.meta)!=null&&z.icon?(M=k.meta)==null?void 0:M.icon:e(o).layout.menuDefaultIcon},null,8,["color","name"]),m("span",null,T((v=k.meta)!=null&&v.title?(B=k.meta)==null?void 0:B.title:s.$t("noTitle")),1)]}),_:2},1032,["index","onClick"])),[[w]])],64))),256))]),_:1},8,["default-active"]))]),_:1},512),n(ve)])}}});const zo=D(Fo,[["__scopeId","data-v-0db0671c"]]),Do={class:"layouts-menu-horizontal-double"},Lo=A({__name:"double",setup(f){G(s=>({"6855c472":e(o).getColorVal("menuBackground"),ebd71850:e(o).getColorVal("menuColor"),"11f9cf72":e(o).getColorVal("menuActiveColor"),"8a4a1b26":e(o).getColorVal("menuActiveBackground")}));const t=ae(),o=q(),i=U(),u=ee(),d=j({menuKey:me(),defaultActive:""}),y=Q(()=>(d.menuKey=me(),i.state.tabsViewRoutes)),p=s=>{$e(s.path,i.state.tabsViewRoutes)&&(d.defaultActive=s.path)},b=()=>{Z(()=>{var g;let s=document.querySelector(".el-menu.menu-horizontal li.is-active");if(!s)return!1;(g=t.value)==null||g.setScrollTop(s.offsetTop)})};return X(()=>{p(u),b()}),ce(s=>{p(s)}),(s,g)=>{const h=_("Icon"),l=_("el-sub-menu"),r=_("el-menu-item"),F=_("el-menu"),E=_("el-scrollbar"),w=we("blur");return c(),$("div",Do,[n(E,{ref_key:"horizontalMenusRef",ref:t,class:"double-menus-scrollbar"},{default:a(()=>[(c(),x(F,{class:"menu-horizontal",mode:"horizontal","default-active":d.defaultActive,key:d.menuKey},{default:a(()=>[(c(!0),$(L,null,J(e(y),k=>(c(),$(L,null,[k.children&&k.children.length>0?(c(),x(l,{index:k.path,key:k.path},{title:a(()=>{var z,M,v,B;return[n(h,{color:e(o).getColorVal("menuColor"),name:(z=k.meta)!=null&&z.icon?(M=k.meta)==null?void 0:M.icon:e(o).layout.menuDefaultIcon},null,8,["color","name"]),m("span",null,T((v=k.meta)!=null&&v.title?(B=k.meta)==null?void 0:B.title:s.$t("noTitle")),1)]}),default:a(()=>[n(pe,{menus:k.children},null,8,["menus"])]),_:2},1032,["index"])):K((c(),x(r,{index:k.path,key:k.path,onClick:z=>e(Se)(k)},{default:a(()=>{var z,M,v,B;return[n(h,{color:e(o).getColorVal("menuColor"),name:(z=k.meta)!=null&&z.icon?(M=k.meta)==null?void 0:M.icon:e(o).layout.menuDefaultIcon},null,8,["color","name"]),m("span",null,T((v=k.meta)!=null&&v.title?(B=k.meta)==null?void 0:B.title:s.$t("noTitle")),1)]}),_:2},1032,["index","onClick"])),[[w]])],64))),256))]),_:1},8,["default-active"]))]),_:1},512),n(ve)])}}});const Eo=D(Lo,[["__scopeId","data-v-e13c3343"]]),No=A({name:"Header1",components:{DefaultNavBar:$o,ClassicNavBar:Io,StreamlineNavBar:zo,DoubleNavBar:Eo}}),Po=A({...No,setup(f){const t=q(),o=U();return(i,u)=>{const d=_("el-header");return e(o).state.tabFullScreen?R("",!0):(c(),x(d,{key:0,class:"layout-header"},{default:a(()=>[(c(),x(Te(e(t).layout.layoutMode+"NavBar")))]),_:1}))}}});const ge=D(Po,[["__scopeId","data-v-45711b32"]]),qo=A({name:"layout/main"}),Wo=A({...qo,setup(f){const{proxy:t}=Ke(),o=ee(),i=q(),u=U(),d=j({componentKey:"/admin/login",keepAliveComponentNameList:[]}),y=function(p){if(p){if(d.keepAliveComponentNameList.find(s=>s===p))return;d.keepAliveComponentNameList.push(p)}};return Ue(()=>{t.eventBus.on("onTabViewRefresh",p=>{d.keepAliveComponentNameList=d.keepAliveComponentNameList.filter(b=>p.meta.keepalive!==b),d.componentKey="",Z(()=>{d.componentKey=p.path,y(p.meta.keepalive)})}),t.eventBus.on("onTabViewClose",p=>{d.keepAliveComponentNameList=d.keepAliveComponentNameList.filter(b=>p.meta.keepalive!==b)})}),ut(()=>{t.eventBus.off("onTabViewRefresh"),t.eventBus.off("onTabViewClose")}),X(()=>{var p,b;typeof((p=u.state.activeRoute)==null?void 0:p.meta.keepalive)=="string"&&y((b=u.state.activeRoute)==null?void 0:b.meta.keepalive)}),We(()=>o.path,()=>{var p,b;d.componentKey=o.path,typeof((p=u.state.activeRoute)==null?void 0:p.meta.keepalive)=="string"&&y((b=u.state.activeRoute)==null?void 0:b.meta.keepalive)}),(p,b)=>{const s=_("router-view"),g=_("el-scrollbar"),h=_("el-main");return c(),x(h,{class:"layout-main"},{default:a(()=>[n(g,{class:"layout-main-scrollbar",style:le(e(yt)()),ref:"mainScrollbarRef"},{default:a(()=>[n(s,null,{default:a(({Component:l})=>[n(xe,{name:e(i).layout.mainAnimation,mode:"out-in"},{default:a(()=>[(c(),x(it,{include:d.keepAliveComponentNameList},[(c(),x(Te(l),{key:d.componentKey}))],1032,["include"]))]),_:2},1032,["name"])]),_:1})]),_:1},8,["style"])]),_:1})}}});const ye=D(Wo,[["__scopeId","data-v-df5b4672"]]),Uo=f=>(Pe("data-v-0aa634f1"),f=f(),qe(),f),Ho=["title","onMouseover","onMouseout"],Oo=["onClick"],Ko=Uo(()=>m("div",{class:"close-full-screen-on"},null,-1)),jo=A({__name:"closeFullScreen",setup(f){const t=U(),o=j({closeBoxTop:20});X(()=>{setTimeout(()=>{o.closeBoxTop=-30},300)});const i=()=>{o.closeBoxTop=20},u=()=>{o.closeBoxTop=-30},d=()=>{t.setFullScreen(!1)};return(y,p)=>{const b=_("Icon");return c(),$("div",{title:y.$t("layouts.Exit full screen"),onMouseover:se(i,["stop"]),onMouseout:se(u,["stop"])},[m("div",{onClick:se(d,["stop"]),class:"close-full-screen",style:le({top:o.closeBoxTop+"px"})},[n(b,{name:"el-icon-Close"})],12,Oo),Ko],40,Ho)}}});const be=D(jo,[["__scopeId","data-v-0aa634f1"]]),Go=A({__name:"default",setup(f){const t=U();return(o,i)=>{const u=_("el-container");return c(),$(L,null,[n(u,{class:"layout-container"},{default:a(()=>[n(Be),n(u,{class:"content-wrapper"},{default:a(()=>[n(ge),n(ye)]),_:1})]),_:1}),e(t).state.tabFullScreen?(c(),x(be,{key:0})):R("",!0)],64)}}});const Xo=D(Go,[["__scopeId","data-v-59d252c1"]]),Yo=A({__name:"classic",setup(f){const t=U();return(o,i)=>{const u=_("el-container");return c(),$(L,null,[n(u,{class:"layout-container"},{default:a(()=>[n(Be),n(u,{class:"content-wrapper"},{default:a(()=>[n(ge),n(ye)]),_:1})]),_:1}),e(t).state.tabFullScreen?(c(),x(be,{key:0})):R("",!0)],64)}}});const Jo=D(Yo,[["__scopeId","data-v-fb349671"]]),Qo=A({__name:"streamline",setup(f){const t=U();return(o,i)=>{const u=_("el-container");return c(),$(L,null,[n(u,{class:"layout-container"},{default:a(()=>[n(u,{class:"content-wrapper"},{default:a(()=>[n(ge),n(ye)]),_:1})]),_:1}),e(t).state.tabFullScreen?(c(),x(be,{key:0})):R("",!0)],64)}}});const Zo=D(Qo,[["__scopeId","data-v-fcdc1bd3"]]),en=A({__name:"double",setup(f){const t=U();return(o,i)=>{const u=_("el-container");return c(),$(L,null,[n(u,{class:"layout-container"},{default:a(()=>[n(Be),n(u,{class:"content-wrapper"},{default:a(()=>[n(ge),n(ye)]),_:1})]),_:1}),e(t).state.tabFullScreen?(c(),x(be,{key:0})):R("",!0)],64)}}});const tn=D(en,[["__scopeId","data-v-d08319bd"]]),on={components:{Default:Xo,Classic:Jo,Streamline:Zo,Double:tn}},pn=A({...on,__name:"index",setup(f){ke();const t=U(),o=q(),i=ee();De(),Le(),X(()=>{u(),y(),he(window,"resize",y)}),Ue(()=>{d(),he(window,"resize",d)});const u=()=>{console.log("init"),gt().then(p=>{if(p.data.menus){if(pt(p.data.menus),i.params.to){const s=JSON.parse(i.params.to);if(s.path!=tt.path){let g=dt(s.query)?{}:s.query;_e({path:s.path,query:g});return}}let b=He(t.state.tabsViewRoutes);b&&_e(b.path)}}).catch(p=>{console.log(p)})},d=()=>{let p={layoutMode:o.layout.layoutMode,menuCollapse:o.layout.menuCollapse},b=ne.get(re);if(b||ne.set(re,p),document.body.clientWidth<1024)o.setLayout("menuCollapse",!0),o.setLayout("shrink",!0),o.setLayoutMode("Classic");else{let g=b||p;o.setLayout("menuCollapse",g.menuCollapse),o.setLayout("shrink",!1),o.setLayoutMode(g.layoutMode)}},y=()=>{const p=document.querySelector(".nav-tabs");if(!p)return;const b=document.querySelector(".nav-bar"),s=document.querySelector(".nav-menus"),g=b.offsetWidth-(s.offsetWidth+20);p.style.width=g.toString()+"px"};return(p,b)=>(c(),x(Te(e(o).layout.layoutMode)))}});export{pn as default};
