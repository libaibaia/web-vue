import{h as q,K as b,r as _,p as u,B as p,C as d,W as g,l as h,T as k,U as y,k as e,o as C,q as r,m as x,N as z,R,Q as W,S as A,$,a2 as Y,t as n,Y as c}from"./vue-a98ef309.js";import{b as j,c as E,_ as Q}from"./index-0c819fdc.js";import{F as G}from"./index-03bd2479.js";import{c as H}from"./IRequests-783be2cd.js";import{b as J}from"./controllerUrls-beb409f8.js";import"./index-6f00a71d.js";import"./baAccount-2dad18d3.js";const M={class:"title"},O=q({__name:"popupForm",setup(X){b();const v=b(),o=Y("baTable"),{t:s}=j(),l=_({data:{secretid:"",secretkey:"",type:"",token:"",bucketName:"",remark:"",name:"",status:!1}}),N=_({secretid:[{required:!0,message:"请输入secretId",trigger:"blur"}],secretkey:[{required:!0,message:"请输入secretKey",trigger:"blur"}],name:[{required:!0,message:"请输入名称",trigger:"blur"}]});_({treeKey:E(),defaultCheckedKeys:[],menuRules:[]});const F=[{label:"腾讯",values:"Tencent"},{label:"阿里云",values:"AliYun"},{label:"未知(未知厂商请选择)",values:"no"}];b("");const U=()=>{l.data.secretkey&&l.data.secretid&&l.data.name&&(o.form.submitLoading=!0,H(J+"add","post",l.data).then(f=>{o.form.submitLoading=!1,console.log(f)}).catch(f=>{o.form.submitLoading=!1}),o.toggleForm())};return(f,a)=>{const m=n("el-input"),i=n("el-form-item"),I=n("el-option"),w=n("el-select"),K=n("el-form"),P=n("el-scrollbar"),V=n("el-button"),B=n("el-dialog"),D=c("drag"),S=c("zoom"),L=c("loading"),T=c("blur");return u(),p(B,{class:"ba-operate-dialog","close-on-click-modal":!1,"model-value":!!e(o).form.operate,onClose:e(o).toggleForm,"destroy-on-close":!0},{header:d(()=>[g((u(),h("div",M,[k(y(e(o).form.operate?e(s)(e(o).form.operate):""),1)])),[[D,[".ba-operate-dialog",".el-dialog__header"]],[S,".ba-operate-dialog"]])]),footer:d(()=>[C("div",{style:x("width: calc(100% - "+e(o).form.labelWidth/1.8+"px)")},[r(V,{onClick:a[9]||(a[9]=t=>e(o).toggleForm(""))},{default:d(()=>[k(y(e(s)("Cancel")),1)]),_:1}),g((u(),p(V,{loading:e(o).form.submitLoading,onClick:U,type:"primary"},{default:d(()=>[k(y(e(o).form.operateIds&&e(o).form.operateIds.length>1?e(s)("Save and edit next item"):e(s)("Save")),1)]),_:1},8,["loading"])),[[T]])],4)]),default:d(()=>[g((u(),p(P,{class:"ba-table-form-scrollbar"},{default:d(()=>[C("div",{class:$(["ba-operate-form","ba-"+e(o).form.operate+"-form"]),style:x("width: calc(100% - "+e(o).form.labelWidth/2+"px)")},[e(o).form.loading?A("",!0):(u(),p(K,{key:0,ref_key:"formRef",ref:v,onKeyup:a[8]||(a[8]=z(t=>e(o).onSubmit(v.value),["enter"])),model:l.data,"label-position":"right","label-width":e(o).form.labelWidth+"px",rules:N},{default:d(()=>[r(i,{prop:"name",label:"名称"},{default:d(()=>[r(m,{modelValue:l.data.name,"onUpdate:modelValue":a[0]||(a[0]=t=>l.data.name=t),type:"string",placeholder:e(s)("Please input field",{field:"名称"})},null,8,["modelValue","placeholder"])]),_:1}),r(i,{prop:"secretid",label:"secretid"},{default:d(()=>[r(m,{modelValue:l.data.secretid,"onUpdate:modelValue":a[1]||(a[1]=t=>l.data.secretid=t),type:"string",placeholder:e(s)("Please input field",{field:"secretID"})},null,8,["modelValue","placeholder"])]),_:1}),r(i,{prop:"secretkey",label:"secretkey"},{default:d(()=>[r(m,{modelValue:l.data.secretkey,"onUpdate:modelValue":a[2]||(a[2]=t=>l.data.secretkey=t),type:"string",placeholder:e(s)("Please input field",{field:"secretKey"})},null,8,["modelValue","placeholder"])]),_:1}),r(i,{prop:"token",label:"token"},{default:d(()=>[r(m,{modelValue:l.data.token,"onUpdate:modelValue":a[3]||(a[3]=t=>l.data.token=t),type:"string",placeholder:e(s)("Please input field",{field:"token"})},null,8,["modelValue","placeholder"])]),_:1}),r(i,{prop:"bucketName",label:"bucketName"},{default:d(()=>[r(m,{modelValue:l.data.bucketName,"onUpdate:modelValue":a[4]||(a[4]=t=>l.data.bucketName=t),type:"string",placeholder:e(s)("Please input field",{field:"存储桶名称，逗号分割，如果不具备listBucket权限则无法列举存储桶"})},null,8,["modelValue","placeholder"])]),_:1}),r(i,{prop:"remark",label:"描述信息"},{default:d(()=>[r(m,{modelValue:l.data.remark,"onUpdate:modelValue":a[5]||(a[5]=t=>l.data.remark=t),type:"string",placeholder:e(s)("Please input field",{field:"备注信息"})},null,8,["modelValue","placeholder"])]),_:1}),r(i,{prop:"type",label:"厂商类型"},{default:d(()=>[r(w,{modelValue:l.data.type,"onUpdate:modelValue":a[6]||(a[6]=t=>l.data.type=t),placeholder:"请选择"},{default:d(()=>[(u(),h(W,null,R(F,t=>r(I,{key:t,label:t.label,value:t.values},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),r(G,{label:e(s)("state"),modelValue:l.data.status,"onUpdate:modelValue":a[7]||(a[7]=t=>l.data.status=t),type:"radio",data:{content:{0:"立即检测",1:"手动执行"},childrenAttr:{border:!0}}},null,8,["label","modelValue"])]),_:1},8,["model","label-width","rules"]))],6)]),_:1})),[[L,e(o).form.loading]])]),_:1},8,["model-value","onClose"])}}});const de=Q(O,[["__scopeId","data-v-bde640e7"]]);export{de as default};
