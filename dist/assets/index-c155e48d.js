import{b,T as f,a as y}from"./index-6f00a71d.js";import{s as d}from"./controllerUrls-beb409f8.js";import{f as h,b as g,g as _,w as k}from"./index-0c819fdc.js";import R from"./popupForm-621ca511.js";import{h as u,K as s,r as z,z as q,p as i,l as w,k as r,B as E,S as I,q as c,t as L,X as F}from"./vue-a98ef309.js";import"./baAccount-2dad18d3.js";import"./IRequests-783be2cd.js";import"./index-03bd2479.js";import"./validate-594baa03.js";function D(){return h({url:d+"add",method:"get"})}const P={class:"default-main ba-table-box"},T=u({name:"security/dataRecycle"}),H=u({...T,setup(v){const{t:e}=g(),n=s(),p=s(),t=new b(new _(d),{column:[{type:"selection",align:"center",operator:!1},{label:"ID",prop:"id",align:"center",operator:"LIKE",operatorPlaceholder:e("Fuzzy query"),width:70},{label:e("security.dataRecycle.Rule name"),prop:"name",align:"center",operator:"LIKE",operatorPlaceholder:e("Fuzzy query")},{label:e("security.dataRecycle.controller"),prop:"controller",align:"center",operator:"LIKE",operatorPlaceholder:e("Fuzzy query")},{label:e("security.dataRecycle.data sheet"),prop:"data_table",align:"center",operator:"LIKE",operatorPlaceholder:e("Fuzzy query")},{label:e("security.dataRecycle.Data table primary key"),prop:"primary_key",align:"center",operator:"LIKE",operatorPlaceholder:e("Fuzzy query"),width:100},{label:e("state"),prop:"status",align:"center",render:"tag",custom:{0:"danger",1:"success"},replaceValue:{0:e("Disable"),1:e("security.dataRecycle.Deleting monitoring")}},{label:e("updatetime"),prop:"updatetime",align:"center",render:"datetime",sortable:"custom",operator:"RANGE",width:160},{label:e("createtime"),prop:"createtime",align:"center",render:"datetime",sortable:"custom",operator:"RANGE",width:160},{label:e("operate"),align:"center",width:"130",render:"buttons",buttons:k(["edit","delete"]),operator:!1}],dblClickNotEditColumn:[void 0,"status"]},{defaultItems:{status:"1"}},{toggleForm:({operate:a})=>{console.log(a),(a=="add"||a=="edit")&&(t.form.loading=!0,D().then(l=>{o.tableList=l.data.tables,o.controllerList=l.data.controllers,t.form.loading=!1}))}}),o=z({tableList:{},controllerList:{}});return F("baTable",t),q(()=>{t.table.ref=n.value,t.mount(),t.getIndex()}),(a,l)=>{const m=L("el-alert");return i(),w("div",P,[r(t).table.remark?(i(),E(m,{key:0,class:"ba-table-alert",title:r(t).table.remark,type:"info","show-icon":""},null,8,["title"])):I("",!0),c(f,{buttons:["refresh","add","edit","delete","comSearch","quickSearch","columnDisplay"],"quick-search-placeholder":r(e)("quick Search Placeholder",{fields:r(e)("security.dataRecycle.Rule name")})},null,8,["quick-search-placeholder"]),c(y,{ref_key:"tableRef",ref:n},null,512),c(R,{ref_key:"formRef",ref:p,"form-data":o},null,8,["form-data"])])}}});export{H as default};
