import{h as A,K as B,A as I,p as m,B as n,C as a,W as v,l as N,T as i,U as u,k as e,o as w,q as s,m as k,N as z,S as y,$ as D,a2 as L,t as d,Y as _}from"./vue-a98ef309.js";import{b as T,r as W,_ as j}from"./index-0c819fdc.js";import{F as q}from"./index-03bd2479.js";import"./index-6f00a71d.js";import"./controllerUrls-beb409f8.js";import"./baAccount-2dad18d3.js";import"./IRequests-783be2cd.js";const K={class:"title"},P=A({__name:"popupForm",setup(E){const g=B(),o=L("baTable"),{t}=T(),V=p=>{o.toggleForm(),W.push({name:p=="money"?"user/moneyLog":"user/scoreLog",query:{user_id:o.form.items.id}})};return I(()=>o.form.operate,p=>{rules.password[0].required=p=="add"}),(p,l)=>{const f=d("el-input"),b=d("el-form-item"),c=d("el-button"),C=d("el-form"),x=d("el-scrollbar"),F=d("el-dialog"),U=_("drag"),S=_("zoom"),$=_("loading"),h=_("blur");return m(),n(F,{class:"ba-operate-dialog","close-on-click-modal":!1,"destroy-on-close":!0,"model-value":!!e(o).form.operate,onClose:e(o).toggleForm},{header:a(()=>[v((m(),N("div",K,[i(u(e(o).form.operate?e(t)(e(o).form.operate):""),1)])),[[U,[".ba-operate-dialog",".el-dialog__header"]],[S,".ba-operate-dialog"]])]),footer:a(()=>[w("div",{style:k("width: calc(100% - "+e(o).form.labelWidth/1.8+"px)")},[s(c,{onClick:l[8]||(l[8]=r=>e(o).toggleForm(""))},{default:a(()=>[i(u(e(t)("Cancel")),1)]),_:1}),v((m(),n(c,{loading:e(o).form.submitLoading,onClick:l[9]||(l[9]=r=>e(o).onSubmit(g.value)),type:"primary"},{default:a(()=>[i(u(e(o).form.operateIds&&e(o).form.operateIds.length>1?e(t)("Save and edit next item"):e(t)("Save")),1)]),_:1},8,["loading"])),[[h]])],4)]),default:a(()=>[v((m(),n(x,{class:"ba-table-form-scrollbar"},{default:a(()=>[w("div",{class:D(["ba-operate-form","ba-"+e(o).form.operate+"-form"]),style:k("width: calc(100% - "+e(o).form.labelWidth/2+"px)")},[e(o).form.loading?y("",!0):(m(),n(C,{key:0,ref_key:"formRef",ref:g,onKeyup:l[7]||(l[7]=z(r=>e(o).onSubmit(g.value),["enter"])),model:e(o).form.items,"label-position":"right","label-width":e(o).form.labelWidth+"px"},{default:a(()=>[s(b,{prop:"username",label:e(t)("user.user.User name")},{default:a(()=>[s(f,{modelValue:e(o).form.items.username,"onUpdate:modelValue":l[0]||(l[0]=r=>e(o).form.items.username=r),type:"string",placeholder:e(t)("Please input field",{field:e(t)("user.user.User name")+"("+e(t)("user.user.Login account")+")"})},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(o).form.operate=="edit"?(m(),n(b,{key:0,label:e(t)("user.user.balance")},{default:a(()=>[s(f,{modelValue:e(o).form.items.money,"onUpdate:modelValue":l[2]||(l[2]=r=>e(o).form.items.money=r),readonly:""},{append:a(()=>[s(c,{onClick:l[1]||(l[1]=r=>V("money"))},{default:a(()=>[i(u(e(t)("user.user.Adjustment balance")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"])):y("",!0),e(o).form.operate=="edit"?(m(),n(b,{key:1,label:e(t)("user.user.integral")},{default:a(()=>[s(f,{modelValue:e(o).form.items.score,"onUpdate:modelValue":l[4]||(l[4]=r=>e(o).form.items.score=r),readonly:""},{append:a(()=>[s(c,{onClick:l[3]||(l[3]=r=>V("score"))},{default:a(()=>[i(u(e(t)("user.user.Adjust integral")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"])):y("",!0),s(b,{prop:"password",label:e(t)("user.user.password")},{default:a(()=>[s(f,{modelValue:e(o).form.items.password,"onUpdate:modelValue":l[5]||(l[5]=r=>e(o).form.items.password=r),type:"password",placeholder:e(o).form.operate=="add"?e(t)("Please input field",{field:e(t)("user.user.password")}):e(t)("user.user.Please leave blank if not modified")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),s(q,{label:e(t)("state"),modelValue:e(o).form.items.status,"onUpdate:modelValue":l[6]||(l[6]=r=>e(o).form.items.status=r),type:"radio",data:{content:{disable:e(t)("Disable"),enable:e(t)("Enable")},childrenAttr:{border:!0}}},null,8,["label","modelValue","data"])]),_:1},8,["model","label-width"]))],6)]),_:1})),[[$,e(o).form.loading]])]),_:1},8,["model-value","onClose"])}}});const Q=j(P,[["__scopeId","data-v-fcb6bec4"]]);export{Q as default};
