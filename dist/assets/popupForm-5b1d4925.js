import{h as N,K as $,r as q,A as z,p as s,B as f,C as i,W as _,l as A,T as c,U as h,k as e,o as y,q as r,m as k,N as v,M as x,S as E,$ as K,a2 as T,t as n,Y as b}from"./vue-a98ef309.js";import{a as W,b as M,_ as R}from"./index-0c819fdc.js";import{b as u,r as j}from"./validate-594baa03.js";import{F as m}from"./index-03bd2479.js";import"./index-6f00a71d.js";import"./controllerUrls-beb409f8.js";import"./baAccount-2dad18d3.js";import"./IRequests-783be2cd.js";const L={class:"title"},Y=N({__name:"popupForm",setup(G){W();const p=$(),o=T("baTable"),{t:l}=M(),V=q({username:[u({name:"required",title:l("auth.admin.username")}),u({name:"account"})],nike:[u({name:"required",title:l("auth.admin.nike")})],email:[u({name:"email",message:l("Please enter the correct field",{field:l("auth.admin.mailbox")})})],mobile:[u({name:"mobile",message:l("Please enter the correct field",{field:l("auth.admin.mobile")})})],password:[{validator:(g,a,d)=>{if(o.form.operate=="add"){if(!a)return d(new Error(l("Please input field",{field:l("auth.admin.password")})))}else if(!a)return d();return j(a)?d():d(new Error(l("validate.Please enter the correct password")))},trigger:"blur"}]});return z(()=>o.form.operate,g=>{V.password[0].required=g=="add"}),(g,a)=>{const d=n("el-input"),P=n("el-form-item"),C=n("el-form"),U=n("el-scrollbar"),w=n("el-button"),S=n("el-dialog"),F=b("drag"),I=b("zoom"),B=b("loading"),D=b("blur");return s(),f(S,{class:"ba-operate-dialog","close-on-click-modal":!1,"model-value":!!e(o).form.operate,onClose:e(o).toggleForm,"destroy-on-close":!0},{header:i(()=>[_((s(),A("div",L,[c(h(e(o).form.operate?e(l)(e(o).form.operate):""),1)])),[[F,[".ba-operate-dialog",".el-dialog__header"]],[I,".ba-operate-dialog"]])]),footer:i(()=>[y("div",{style:k("width: calc(100% - "+e(o).form.labelWidth/1.8+"px)")},[r(w,{onClick:a[11]||(a[11]=t=>e(o).toggleForm(""))},{default:i(()=>[c(h(e(l)("Cancel")),1)]),_:1}),_((s(),f(w,{loading:e(o).form.submitLoading,onClick:a[12]||(a[12]=t=>e(o).onSubmit(p.value)),type:"primary"},{default:i(()=>[c(h(e(o).form.operateIds&&e(o).form.operateIds.length>1?e(l)("Save and edit next item"):e(l)("Save")),1)]),_:1},8,["loading"])),[[D]])],4)]),default:i(()=>[_((s(),f(U,{class:"ba-table-form-scrollbar"},{default:i(()=>[y("div",{class:K(["ba-operate-form","ba-"+e(o).form.operate+"-form"]),style:k("width: calc(100% - "+e(o).form.labelWidth/2+"px)")},[e(o).form.loading?E("",!0):(s(),f(C,{key:0,ref_key:"formRef",ref:p,onKeyup:a[10]||(a[10]=v(t=>e(o).onSubmit(p.value),["enter"])),model:e(o).form.items,"label-position":"right","label-width":e(o).form.labelWidth+"px",rules:V},{default:i(()=>[r(m,{label:e(l)("auth.admin.username"),modelValue:e(o).form.items.username,"onUpdate:modelValue":a[0]||(a[0]=t=>e(o).form.items.username=t),type:"string",prop:"username",placeholder:e(l)("auth.admin.Administrator login")},null,8,["label","modelValue","placeholder"]),r(m,{label:e(l)("auth.admin.nike"),modelValue:e(o).form.items.nike,"onUpdate:modelValue":a[1]||(a[1]=t=>e(o).form.items.nike=t),type:"string",prop:"nike",placeholder:e(l)("Please input field",{field:e(l)("auth.admin.nike")})},null,8,["label","modelValue","placeholder"]),r(m,{label:e(l)("auth.admin.head portrait"),type:"image",modelValue:e(o).form.items.avatar,"onUpdate:modelValue":a[2]||(a[2]=t=>e(o).form.items.avatar=t)},null,8,["label","modelValue"]),r(m,{label:e(l)("auth.admin.mailbox"),prop:"email",modelValue:e(o).form.items.email,"onUpdate:modelValue":a[3]||(a[3]=t=>e(o).form.items.email=t),type:"string",placeholder:e(l)("Please input field",{field:e(l)("auth.admin.mailbox")})},null,8,["label","modelValue","placeholder"]),r(m,{label:e(l)("auth.admin.mobile"),prop:"mobile",modelValue:e(o).form.items.mobile,"onUpdate:modelValue":a[4]||(a[4]=t=>e(o).form.items.mobile=t),type:"string",placeholder:e(l)("Please input field",{field:e(l)("auth.admin.mobile")})},null,8,["label","modelValue","placeholder"]),r(m,{label:e(l)("auth.admin.password"),prop:"password",modelValue:e(o).form.items.password,"onUpdate:modelValue":a[5]||(a[5]=t=>e(o).form.items.password=t),type:"password",placeholder:e(o).form.operate=="add"?e(l)("Please input field",{field:e(l)("auth.admin.password")}):e(l)("auth.admin.Please leave blank if not modified")},null,8,["label","modelValue","placeholder"]),r(P,{prop:"motto",label:e(l)("auth.admin.Personal signature")},{default:i(()=>[r(d,{onKeyup:[a[6]||(a[6]=v(x(()=>{},["stop"]),["enter"])),a[7]||(a[7]=v(x(t=>e(o).onSubmit(p.value),["ctrl"]),["enter"]))],modelValue:e(o).form.items.motto,"onUpdate:modelValue":a[8]||(a[8]=t=>e(o).form.items.motto=t),type:"textarea",placeholder:e(l)("Please input field",{field:e(l)("auth.admin.Personal signature")})},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(m,{label:e(l)("state"),modelValue:e(o).form.items.status,"onUpdate:modelValue":a[9]||(a[9]=t=>e(o).form.items.status=t),type:"radio",data:{content:{0:e(l)("Disable"),1:e(l)("Enable")},childrenAttr:{border:!0}}},null,8,["label","modelValue","data"])]),_:1},8,["model","label-width","rules"]))],6)]),_:1})),[[B,e(o).form.loading]])]),_:1},8,["model-value","onClose"])}}});const le=R(Y,[["__scopeId","data-v-e21f6abc"]]);export{le as default};
